<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Confirmed | BRITS ACADEMY</title>
    <style>
        :root {
            --primary: #2563eb;
            --accent: #0ea5e9;
            --success: #10b981;
            --dark: #0f172a;
            --light: #f1f5f9;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f172a, #1e293b);
            color: var(--light);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
            padding: 20px;
        }
        
        .confetti {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }
        
        .confetti-piece {
            position: absolute;
            width: 10px;
            height: 20px;
            background: var(--accent);
            top: 0;
            opacity: 0;
            animation: confetti-fall 5s ease-in-out infinite;
        }
        
        @keyframes confetti-fall {
            0% {
                opacity: 1;
                transform: translateY(-100px) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translateY(100vh) rotate(720deg);
            }
        }
        
        .container {
            max-width: 800px;
            width: 100%;
            background: rgba(15, 23, 42, 0.8);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(56, 189, 248, 0.3);
            position: relative;
            z-index: 10;
            margin: 2rem auto;
        }
        
        .header {
            background: linear-gradient(90deg, var(--primary), var(--accent));
            padding: 2.5rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 15s linear infinite;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .checkmark {
            width: 100px;
            height: 100px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            position: relative;
            z-index: 2;
            animation: scaleCheck 0.5s ease-out;
        }
        
        @keyframes scaleCheck {
            0% { transform: scale(0); opacity: 0; }
            70% { transform: scale(1.2); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .checkmark i {
            font-size: 4rem;
            color: var(--success);
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            position: relative;
            z-index: 2;
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }
        
        .content {
            padding: 3rem;
        }
        
        .message {
            text-align: center;
            margin-bottom: 2.5rem;
        }
        
        .message h2 {
            font-size: 1.8rem;
            color: var(--accent);
            margin-bottom: 1rem;
        }
        
        .message p {
            font-size: 1.1rem;
            line-height: 1.7;
            color: #cbd5e1;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .details {
            background: rgba(2, 6, 23, 0.6);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(56, 189, 248, 0.2);
        }
        
        .detail-row {
            display: flex;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(56, 189, 248, 0.1);
        }
        
        .detail-row:last-child {
            border-bottom: none;
        }
        
        .detail-label {
            width: 40%;
            color: #94a3b8;
            font-weight: 500;
        }
        
        .detail-value {
            width: 60%;
            font-weight: 500;
        }
        
        .amount {
            color: var(--success);
            font-weight: bold;
            font-size: 1.3rem;
        }
        
        .next-steps {
            background: rgba(16, 185, 129, 0.1);
            border-radius: 15px;
            padding: 2rem;
            border-left: 4px solid var(--success);
        }
        
        .next-steps h3 {
            color: var(--success);
            margin-bottom: 1rem;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .next-steps ul {
            padding-left: 1.5rem;
        }
        
        .next-steps li {
            margin-bottom: 0.8rem;
            line-height: 1.6;
            color: #cbd5e1;
        }
        
        .actions {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-top: 2.5rem;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 15px 35px;
            border-radius: 10px;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-primary {
            background: linear-gradient(90deg, var(--primary), var(--accent));
            color: white;
            box-shadow: 0 5px 20px rgba(37, 99, 235, 0.4);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.6);
        }
        
        .btn-outline {
            background: transparent;
            color: var(--accent);
            border: 2px solid var(--accent);
        }
        
        .btn-outline:hover {
            background: rgba(14, 165, 233, 0.1);
        }
        
        /* Floating animation */
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        
        @keyframes floating {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
            100% { transform: translateY(0px); }
        }
        
        @media (max-width: 768px) {
            .container {
                border-radius: 15px;
            }
            
            .header {
                padding: 1.8rem;
            }
            
            .content {
                padding: 1.8rem;
            }
            
            .detail-row {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .detail-label, .detail-value {
                width: 100%;
            }
            
            .actions {
                flex-direction: column;
                gap: 1rem;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
     <script>
        // Firebase configuration (same as index.html)
        const firebaseConfig = { /* your config */ };
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        
        async function loadStudentData() {
            const urlParams = new URLSearchParams(window.location.search);
            const studentId = urlParams.get('studentId');
            
            if (studentId) {
                const studentData = await getStudentData(studentId);
                if (studentData) {
                    // Update UI with student data
                    const fullName = `${studentData.firstName} ${studentData.middleName ? studentData.middleName + ' ' : ''}${studentData.lastName}`;
                    document.getElementById('student-name').textContent = fullName;
                    document.getElementById('course').textContent = studentData.course;
                    document.getElementById('level').textContent = studentData.level;
                    document.getElementById('amount').textContent = formatCurrency(studentData.amount);
                    document.getElementById('transaction-id').textContent = studentData.receiptId;
                    
                    // Update welcome message
                    document.querySelector('.message h2').textContent = `Welcome to the Academy, ${studentData.firstName}!`;
                    
                    // Update payment date
                    const paymentDate = studentData.paymentDate || new Date();
                    document.getElementById('payment-date').textContent = formatDate(paymentDate);
                    
                    // Mark payment as completed in Firestore
                    await db.collection("students").doc(studentId).update({
                        paymentStatus: "completed",
                        paymentDate: new Date()
                    });
                }
            }
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            loadStudentData();
            // Rest of your existing code
        });
    </script>
</head>
<body>
    <div class="confetti" id="confetti"></div>
    
    <div class="container floating">
        <div class="header">
            <div class="checkmark">
                <i class="fas fa-check"></i>
            </div>
            <h1>Payment Confirmed!</h1>
            <p>You've successfully enrolled in your course at BRITS ACADEMY</p>
        </div>
        
        <div class="content">
            <div class="message">
                <h2>Welcome to the Academy!</h2>
                <p>Thank you for completing your payment. We're thrilled to have you as part of our learning community. Your course access details will be sent to your email within the next 15 minutes.</p>
            </div>
            
            <div class="details">
                <div class="detail-row">
                    <div class="detail-label">Occupation:</div>
                    <div class="detail-value" id="student-name">-</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Course:</div>
                    <div class="detail-value" id="course">-</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Course Level:</div>
                    <div class="detail-value" id="level">-</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Amount Paid:</div>
                    <div class="detail-value">
                        <span class="amount" id="amount">-</span>
                    </div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Transaction ID:</div>
                    <div class="detail-value" id="transaction-id">-</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Payment Date:</div>
                    <div class="detail-value" id="payment-date">-</div>
                </div>
            </div>
            
            <div class="next-steps">
                <h3><i class="fas fa-list-check"></i> What Happens Next?</h3>
                <ul>
                    <li>You'll receive a confirmation email with your receipt and course details</li>
                    <li>Our team will verify your payment (usually within 1 hour)</li>
                    <li>Course access will be activated on the start date</li>
                    <li>Join our student community on Discord for networking and support</li>
                    <li>Check your email for orientation materials and schedule</li>
                </ul>
            </div>
            
            <div class="actions">
                <button class="btn btn-primary" onclick="window.location.href='index.html'">
                    <i class="fas fa-home"></i> Back to Homepage
                </button>
                <button class="btn btn-outline" onclick="window.location.href='courses.html'">
                    <i class="fas fa-book"></i> Explore More Courses
                </button>
            </div>
        </div>
    </div>

    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <script>
        // Create confetti effect
        function createConfetti() {
            const container = document.getElementById('confetti');
            const colors = ['#0ea5e9', '#38bdf8', '#60a5fa', '#3b82f6', '#2563eb'];
            
            for (let i = 0; i < 150; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti-piece');
                
                // Random color
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                
                // Random size
                const width = Math.random() * 10 + 5;
                const height = width * (Math.random() * 0.5 + 1);
                confetti.style.width = `${width}px`;
                confetti.style.height = `${height}px`;
                
                // Random position
                confetti.style.left = `${Math.random() * 100}%`;
                
                // Random animation
                confetti.style.animationDelay = `${Math.random() * 5}s`;
                confetti.style.animationDuration = `${Math.random() * 3 + 3}s`;
                
                container.appendChild(confetti);
            }
        }
        
        // Get URL parameters
        function getQueryParam(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }
        
        // Format currency
        function formatCurrency(amount) {
            return '$' + amount.toLocaleString();
        }
        
        // Format date
        function formatDate(date) {
            return new Date(date).toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
        }
        
        // Generate random transaction ID
        function generateTransactionId() {
            const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            let id = '';
            
            // Add 3 random letters
            for (let i = 0; i < 3; i++) {
                id += letters.charAt(Math.floor(Math.random() * letters.length));
            }
            
            // Add 8 random numbers
            for (let i = 0; i < 8; i++) {
                id += Math.floor(Math.random() * 10);
            }
            
            return id;
        }
        
        // On page load
       // Replace the existing script in payment-confirmation.html with this:
document.addEventListener('DOMContentLoaded', function() {
    createConfetti();
    
    // Get data from URL parameters
    const urlParams = new URLSearchParams(window.location.search);
    const firstName = urlParams.get('firstName') || 'Student';
    
    const course = urlParams.get('course') || 'Selected Course';
    const level = urlParams.get('level') || 'Beginner';
    const amount = urlParams.get('amount') ? parseInt(urlParams.get('amount')) : 10000;
    
    // Format course names for display
    const courseDisplayNames = {
        'web-dev': 'WEB DEVELOPMENT',
        'data-science': 'Data Science',
        'cybersecurity': 'Cybersecurity',
        'graphics-design': 'GRAPHICS DESIGN',
        'social-media': 'YOUTUBE, TIKTOK MONETIZATION & SOCIAL MEDIA MANAGEMENT',
        'digital-marketing': 'VIRTUAL ASSISTANT, DIGITAL MARKETING & CHAT MODERATION'
    };
    
    const levelDisplayNames = {
        'beginner': 'Beginner',
        'intermediate': 'Intermediate',
        'advanced': 'Advanced'
    };
    
    const displayCourse = courseDisplayNames[course] || course;
    const displayLevel = levelDisplayNames[level] || level;
    
    // Get student name from localStorage
    const lastName = localStorage.getItem('studentLastName') || '';
    const fullName = `${firstName} ${lastName}`;
    
    
    // Set details
    document.getElementById('student-name').textContent = fullName;
    document.getElementById('course').textContent = displayCourse;
    document.getElementById('level').textContent = displayLevel;
    document.getElementById('amount').textContent = formatCurrency(amount);
    document.getElementById('transaction-id').textContent = generateTransactionId();
    document.getElementById('payment-date').textContent = formatDate(new Date());
    
    // Update welcome message with first name
    document.querySelector('.message h2').textContent = `Welcome to the Academy, ${firstName}!`;
});
    </script>
</body>
</html>